---
title: "Telhunter and Extended scores per alterations in cohort"
output: html_notebook

params:
  cohort_label_file:
    label: "Cohort specific annotation file"
    value: pbta-histologies.tsv
    input: file
  merged_alt_tel_file:
    label: "Merged alteration and tel content ratio along with extend scores "
    value: ../output/all_alterations_ATRX_DAXX_TERT.tsv
    input: file 

---

```{r}

library(tidyverse)
# merge alt and ratio file
merged_alt_tel_file <- read_tsv(params$merged_alt_tel_file) 
```

```{r}

corr_check<-as.matrix(cor(merged_alt_tel_file[,c("telomere_ratio","RawEXTENDScores","NormEXTENDScores","ATRX_fpkm","DAXX_fpkm","TERT_fpkm")],use = "complete.obs"))

png("../plots/corr_scored_fpkm.png")
corrplot::corrplot(corr_check,is.corr = FALSE,method = "number") 
dev.off()

ggplot(as.data.frame(merged_alt_tel_file[,c("telomere_ratio","NormEXTENDScores")]),aes(x=telomere_ratio,y=NormEXTENDScores)) + 
  geom_point()+
  geom_smooth(method='lm') + ggsave("../plots/corr_extend_scores_telhunter_ratio.png")


```
